name: project-adaptation
on: [push]

jobs:
  adaptation:

    runs-on: windows-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v2
      with:
        fetch-depth: 2

    - run: git diff-tree --no-commit-id --name-only -r HEAD

    - name: Adaptation
      shell: pwsh
      run: .\project-adaptation-invoker.ps1

    - name: Push
      uses: ad-m/github-push-action@v0.6.0